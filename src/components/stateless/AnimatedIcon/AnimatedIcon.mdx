import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks'
import AnimatedIcon from './index'
import * as Stories from './AnimatedIcon.stories'
import { Music, Heart, Play, Smartphone } from 'lucide-react'

<Meta title="Stateless/AnimatedIcon" of={Stories} />

# AnimatedIcon

A lightweight animated wrapper for icon components. Provides a small set of animation *variants* and *modes* and intentionally defaults to `mode="hover"` for performance. Animations respect the user's `prefers-reduced-motion` preference.

import { ArgsTable } from '../../../storybook/ArgsTable'

## Props

<ArgsTable
  rows={[
    { name: 'variant', type: "'spin' | 'pulse' | 'bounce' | 'draw'", default: "'spin'", description: 'Animation variant to apply to the icon.' },
    { name: 'mode', type: "'hover' | 'auto' | 'idle'", default: "'hover'", description: 'How the animation is triggered: hover interactions, always running, or idle.' },
    { name: 'className', type: 'string', default: "''", description: 'Additional className forwarded to the motion wrapper.' },
    { name: 'children', type: 'React.ReactElement', default: 'â€”', description: 'Icon element (SVG or icon component).' },
  ]}
/>

---

## Examples

### Basic playground

<Canvas>
  <Story name="Playground">
    <div style={{ display: 'flex', gap: 16, alignItems: 'center' }}>
      <AnimatedIcon variant="spin" mode="hover"><Music size={28} /></AnimatedIcon>
      <AnimatedIcon variant="pulse" mode="hover"><Heart size={28} /></AnimatedIcon>
      <AnimatedIcon variant="bounce" mode="hover"><Play size={28} /></AnimatedIcon>
      <AnimatedIcon variant="draw" mode="hover"><Music size={28} /></AnimatedIcon>
    </div>
  </Story>
</Canvas>

### Inline usage (code)

```jsx
<AnimatedIcon variant="spin" mode="hover">
  <Music />
</AnimatedIcon>
```

---

## Notes

- **Accessibility:** If the icon is interactive (button/link), ensure it has an accessible name (aria-label or visible label). For purely decorative icons use `aria-hidden="true"` on the child SVG.
- **Performance:** Prefer `mode="hover"` for many icons; reserve `mode="auto"` for isolated or small numbers of continuously-animated icons.
- **Reduced motion:** Animations are disabled when `prefers-reduced-motion` is enabled on the user's system.

> Tip: Use `variant="draw"` for decorative, one-off reveal animations and `variant="spin"` or `pulse` for status/feedback indicators.
